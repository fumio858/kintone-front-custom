(()=>{var e={3:()=>{!function(){"use strict";const e=[23],o="case_type",t="task_status",n={åˆ‘äº‹äº‹ä»¶:"#FFDCDC",äº¤é€šäº‹æ•…:"#DCEEFF",åˆ‘äº‹äº¤é€šä»¥å¤–:"#fff4ce","":"#F0F0F0",ãã®ä»–:"#F0F0F0"},r=e=>kintone.api.url(e.endsWith(".json")?e:`${e}.json`,!0);kintone.events.on(["app.record.index.show"],async s=>{if(!document.querySelector(".calendar-gaia"))return s;console.log("Calendar view detected. Applying color coding...");const c=document.querySelectorAll(".calendar-record-gaia");if(0===c.length)return console.log("No calendar items found."),s;const a=new Map;if(c.forEach(o=>{const t=o.querySelector("a");if(t){const o=t.href.match(/\/k\/(\d+)\/show#record=(\d+)/);if(o&&o[1]&&o[2]){const t=parseInt(o[1],10),n=o[2];e.includes(t)&&(a.has(t)||a.set(t,new Set),a.get(t).add(n))}}}),0===a.size)return console.log("No relevant app record IDs found from calendar items."),s;const l=new Map;for(const[e,n]of a.entries()){const s=Array.from(n);if(0!==s.length){console.log(`Fetching details for ${s.length} records from App ID: ${e}`);try{const n=`$id in (${s.join(",")})`;((await kintone.api(r("/k/v1/records"),"GET",{app:e,query:n,fields:["$id",o,t]})).records||[]).forEach(n=>{const r=`${e}_${n.$id.value}`;l.set(r,{caseType:n[o]?.value||"",taskStatus:n[t]?.value})})}catch(o){console.error(`ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ å–å¾—ã‚¨ãƒ©ãƒ¼ (App ID: ${e}):`,o)}}}return c.forEach(e=>{const o=e.querySelector("a");if(o){const t=o.href.match(/\/k\/(\d+)\/show#record=(\d+)/);if(t&&t[1]&&t[2]){const o=`${parseInt(t[1],10)}_${t[2]}`,r=l.get(o);if(!r)return;const{caseType:s,taskStatus:c}=r,a=n[s]||n["ãã®ä»–"];a&&(e.style.backgroundColor=a,e.style.padding="2px 6px",e.style.margin="2px",e.style.borderRadius="3px",e.style.listStyle="none"),"å®Œäº†"===c&&e.classList.add("task-completed")}}}),console.log("Color coding applied successfully for multiple apps."),s})}()},73:(e,o,t)=>{var n={"./calendar_customization.js":3,"./dynamic_related_records.js":139,"./index.js":983};function r(e){var o=s(e);return t(o)}function s(e){if(!t.o(n,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=73},139:()=>{!function(){"use strict";const e="related_records_space",o={åˆ‘äº‹äº‹ä»¶:22,äº¤é€šäº‹æ•…:26,åˆ‘äº‹äº¤é€šä»¥å¤–:55},t="title_display";kintone.events.on(["app.record.detail.show"],async n=>{const r=n.record,s=kintone.app.record.getId(),c=r.case_type?.value,a=r.case_id?.value,l=kintone.app.record.getSpaceElement(e);if(!l)return console.warn(`ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ '${e}' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚`),n;l.innerHTML="",l.style.padding="10px",l.style.border="1px solid #e3e7e8",l.style.borderRadius="6px",l.style.backgroundColor="#f7f9fa",l.style.marginTop="1rem";const i=document.createElement("h4");i.style.margin="0 0 10px 0",i.style.borderBottom="1px solid #e3e7e8",i.style.paddingBottom="5px",i.textContent="ğŸ“„ é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰",l.appendChild(i);const d=document.createElement("div");if(l.appendChild(d),!c)return d.innerHTML='<p style="color:#c00;">åˆ†é‡ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚</p>',n;if(!a)return d.innerHTML='<p style="color:#c00;">ç¾åœ¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®case_idãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚</p>',n;const p=o[c];if(!p)return d.innerHTML=`<p>åˆ†é‡ '${c}' ã«å¯¾å¿œã™ã‚‹ã‚¢ãƒ—ãƒªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚</p>`,n;try{d.innerHTML="<p>é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>";const e=`$id = "${a}"`;console.log("ç¾åœ¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ID:",s),console.log("ç¾åœ¨ã®åˆ†é‡:",c),console.log("ç¾åœ¨ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®case_id:",a),console.log("å¯¾è±¡ã‚¢ãƒ—ãƒªID:",p),console.log("æ¤œç´¢ã‚¯ã‚¨ãƒª:",e);const o=(await kintone.api((u="/k/v1/records",kintone.api.url(u.endsWith(".json")?u:`${u}.json`,!0)),"GET",{app:p,query:e,fields:["$id",t]})).records||[];if(0===o.length)d.innerHTML="<p>é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>";else{const e=document.createElement("ul");e.style.listStyle="none",e.style.padding="0",e.style.margin="0",o.forEach(o=>{const n=document.createElement("li");n.style.padding="5px";const r=o.$id.value,s=o[t]?.value||"(ã‚¿ã‚¤ãƒˆãƒ«ãªã—)",c=document.createElement("a");c.href=`${location.origin}/k/${p}/show#record=${r}`,c.target="_blank",c.textContent=s,c.style.textDecoration="none",c.style.color="#3598db",n.appendChild(c),e.appendChild(n)}),d.innerHTML="",d.appendChild(e)}}catch(e){console.error("é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰å–å¾—ã‚¨ãƒ©ãƒ¼:",e),d.innerHTML=`<p style="color:#c00;">é–¢é€£ãƒ¬ã‚³ãƒ¼ãƒ‰ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${e.message||JSON.stringify(e)}</p>`}var u;return n})}()},983:(e,o,t)=>{var n;(n=t(73)).keys().forEach(n)}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t(983)})();