(()=>{var e={90:()=>{(()=>{"use strict";kintone.events.on("portal.show",()=>{const e=document.createElement("iframe");e.src="https://atomfirm.cybozu.com/k/23/?view=13312044",e.width="100%",e.height="800",e.style.border="0",e.style.overflow="hidden",e.style.padding="0 0.5rem",e.style.boxSizing="border-box";const n=document.createElement("div");n.classList.add("portal-calendar-widget"),n.appendChild(e);const t=document.querySelector(".ocean-portal-body-right");t?(t.appendChild(n),console.log("✅ カレンダーを右カラムの末尾に追加しました")):console.warn("⚠️ .ocean-portal-body-right が見つかりませんでした")})})()},131:()=>{!function(){"use strict";const e={APP_ID:59,AREA_ID:"portal-links-area",TARGET_PORTAL_HASH_PART:"/portal/4",FIELD_CATEGORY:"category",FIELD_URL:"url",FIELD_ICON:"icon",FIELD_TITLE:"title",FIELD_SORT_ORDER:"sort_order",CATEGORY_ORDER:["マニュアル","業務関連シート","便利ツール","その他"],CATEGORY_COLOR:{マニュアル:{icon:"#4c7eff"},業務関連シート:{icon:"#3db652"},便利ツール:{icon:"#e8b65d"},その他:{icon:"#777"}},DEFAULT_ICON:"description"},n=`${e.AREA_ID}-styles`;function t(){if(e.TARGET_PORTAL_HASH_PART&&!location.hash.includes(e.TARGET_PORTAL_HASH_PART)){const n=document.getElementById(e.AREA_ID);return void(n&&n.remove())}const a=document.getElementById("cns-root");if(!a)return setTimeout(t,300);let r=document.getElementById(e.AREA_ID);r||(r=document.createElement("div"),r.id=e.AREA_ID,a.prepend(r)),async function(t){if(0===e.APP_ID||!e.APP_ID)return void(t.innerHTML='<div style="color: red; font-weight: bold; padding: 1rem;">【設定エラー】リンク集アプリのIDが設定されていません。</div>');if(function(){if(document.getElementById(n))return;const t=`\n      #${e.AREA_ID} { margin-bottom: 40px; }\n      .${e.AREA_ID}-container { padding: 10px; }\n      .${e.AREA_ID}-category-title {\n        font-size: 16px;\n        font-weight: 600;\n        padding: 1rem;\n        margin-top: 1rem;\n        color: #686868;\n      }\n      .${e.AREA_ID}-category-wrap {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16px;\n        padding: 0 1rem;\n        margin-bottom: 1rem;\n      }\n      .${e.AREA_ID}-item-wrapper {\n        width: 180px;\n        text-decoration: none;\n      }\n      .${e.AREA_ID}-card {\n        width: 100%;\n        height: 140px;\n        border-radius: 22px;\n        background: #fff;\n        border: 1px solid rgba(0,0,0,0.08);\n        box-shadow: 0 4px 12px rgba(0,0,0,0.05);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        padding: 1rem;\n        transition: all 0.2s ease-in-out;\n        box-sizing: border-box;\n      }\n      .${e.AREA_ID}-item-wrapper:hover .${e.AREA_ID}-card {\n        transform: translateY(-4px);\n        box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n      }\n      .${e.AREA_ID}-icon {\n        font-size: 42px!important;\n        margin-bottom: 8px;\n      }\n      .${e.AREA_ID}-text {\n        height: calc(13px * 1.5 * 2);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n      }\n      .${e.AREA_ID}-text-inner {\n        font-size: 14.5px;\n        font-weight: 500;\n        color: #444;\n        text-align: center;\n        line-height: 1.4;\n        overflow-wrap: break-word;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,o=document.createElement("style");o.id=n,o.textContent=t,document.head.appendChild(o)}(),!document.getElementById("mat-icon-font")){const e=document.createElement("link");e.id="mat-icon-font",e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined",e.rel="stylesheet",document.head.appendChild(e)}let a;try{a=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:e.APP_ID,query:`order by ${e.FIELD_SORT_ORDER} asc`})}catch(e){return console.error(e),void(t.innerHTML='<div style="color: red; padding: 1rem;">リンクの読み込みに失敗しました。</div>')}const r=a.records,i={};r.forEach(n=>{const t=n[e.FIELD_CATEGORY].value;i[t]||(i[t]=[]),i[t].push(n)}),t.innerHTML="";const c=document.createElement("div");c.className=`${e.AREA_ID}-container`;const d=new Set;e.CATEGORY_ORDER.forEach(e=>{i[e]&&(c.appendChild(o(e,i[e])),d.add(e))}),Object.keys(i).filter(e=>!d.has(e)).sort().forEach(e=>c.appendChild(o(e,i[e]))),t.appendChild(c)}(r)}function o(n,t){const o=document.createElement("div"),a=document.createElement("div");a.className=`${e.AREA_ID}-category-title`,a.textContent=n,o.appendChild(a);const r=document.createElement("div");return r.className=`${e.AREA_ID}-category-wrap`,t.forEach(t=>r.appendChild(function(n,t){const o=e.CATEGORY_COLOR[t]||{icon:"#333"},a=document.createElement("a");a.className=`${e.AREA_ID}-item-wrapper`,a.href=n[e.FIELD_URL].value,a.target="_blank";const r=document.createElement("div");r.className=`${e.AREA_ID}-card`;const i=document.createElement("span");i.className=`material-symbols-outlined ${e.AREA_ID}-icon`,i.style.color=o.icon,i.textContent=n[e.FIELD_ICON]&&n[e.FIELD_ICON].value||e.DEFAULT_ICON;const c=document.createElement("div");c.className=`${e.AREA_ID}-text`;const d=document.createElement("span");return d.className=`${e.AREA_ID}-text-inner`,d.textContent=n[e.FIELD_TITLE].value,c.appendChild(d),r.append(i,c),a.append(r),a}(t,n))),o.appendChild(r),o}let a="";setInterval(()=>{location.hash!==a&&(a=location.hash,t())},300),t()}()},235:(e,n,t)=>{var o;(o=t(933)).keys().forEach(o)},638:()=>{!function(){"use strict";const e="portal-notifications-area",n="/portal/5",t="category",o="content",a="posting_date",r=`${e}-styles`;function i(){if(n&&!location.hash.includes(n)){const n=document.getElementById(e);return void(n&&n.remove())}const c=document.getElementById("cns-root");if(!c)return setTimeout(i,300);let d=document.getElementById(e);d||(d=document.createElement("div"),d.id=e,c.prepend(d)),async function(n){let i;(function(){if(document.getElementById(r))return;const n=`\n      #${e} { margin-bottom: 40px; }\n      .${e}-container { padding: 10px; }\n      \n      /* Tab Navigation */\n      .${e}-tab-nav {\n        display: flex;\n        border-bottom: 1px solid #ddd;\n        margin: 0 1rem 1rem 1rem;\n      }\n      .${e}-tab-button {\n        padding: 10px 20px;\n        cursor: pointer;\n        border: none;\n        background-color: transparent;\n        font-size: 15px;\n        font-weight: 500;\n        color: #777;\n        border-bottom: 3px solid transparent;\n        transform: translateY(1px);\n        transition: all 0.2s ease;\n      }\n      .${e}-tab-button.active {\n        color: #3498db;\n        font-weight: 600;\n        border-bottom-color: #3498db;\n      }\n\n      /* Tab Content */\n      .${e}-tab-pane {\n        display: none;\n      }\n      .${e}-tab-pane.active {\n        display: block;\n      }\n\n      .${e}-wrap {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16px;\n        padding: 0 1rem;\n        margin-bottom: 1rem;\n      }\n      .${e}-item-wrapper {\n        width: 100%;\n        max-width: 500px;\n        text-decoration: none;\n      }\n      .${e}-card {\n        width: 100%;\n        min-height: 100px;\n        border-radius: 16px;\n        background: #fff;\n        border: 1px solid rgba(0,0,0,0.08);\n        box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: flex-start;\n        padding: 1.5rem;\n        transition: all 0.2s ease-in-out;\n        box-sizing: border-box;\n        gap: 5px;\n      }\n      .${e}-item-wrapper:hover .${e}-card {\n        box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n      }\n      .${e}-posting-date {\n        font-size: 11px;\n        color: #777;\n        margin-bottom: 5px;\n      }\n      .${e}-title {\n        font-size: 16px;\n        font-weight: bold;\n        color: #333;\n        text-align: left;\n        line-height: 1.4;\n        margin-bottom: 5px;\n      }\n      .${e}-content {\n        font-size: 13px;\n        color: #555;\n        line-height: 1.5;\n        overflow-wrap: break-word;\n        width: 100%;\n      }\n    `,t=document.createElement("style");t.id=r,t.textContent=n,document.head.appendChild(t)})();try{i=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:61,query:'is_hidden not in ("非公開にする") order by posting_date desc'})}catch(e){return console.error(e),void(n.innerHTML='<div style="color: red; padding: 1rem;">お知らせの読み込みに失敗しました。</div>')}const c=i.records,d={};c.forEach(e=>{const n=e[t]&&e[t].value||"未分類";d[n]||(d[n]=[]),d[n].push(e)}),n.innerHTML="";const s=document.createElement("div");s.className=`${e}-container`;const l=document.createElement("div");l.className=`${e}-tab-nav`;const p=document.createElement("div");p.className=`${e}-tab-content`,Object.keys(d).sort((e,n)=>{const t=new Date(d[e][0][a].value).getTime();return new Date(d[n][0][a].value).getTime()-t}).forEach((n,t)=>{const r=document.createElement("button");r.className=`${e}-tab-button`,r.textContent=n,r.dataset.category=n,l.appendChild(r);const i=document.createElement("div");i.className=`${e}-tab-pane`,i.dataset.category=n;const c=document.createElement("div");c.className=`${e}-wrap`,d[n].forEach(n=>c.appendChild(function(n){const t=document.createElement("div");t.className=`${e}-item-wrapper`;const r=document.createElement("div");r.className=`${e}-card`;const i=document.createElement("div");if(i.className=`${e}-posting-date`,n[a]&&n[a].value){const e=new Date(n[a].value);i.textContent=`${e.getFullYear()}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getDate().toString().padStart(2,"0")}`}const c=document.createElement("div");c.className=`${e}-title`,c.textContent=n.title.value;const d=document.createElement("div");return d.className=`${e}-content`,n[o]&&n[o].value&&(d.innerHTML=n[o].value),r.append(i,c,d),t.append(r),t}(n))),i.appendChild(c),p.appendChild(i),0===t&&(r.classList.add("active"),i.classList.add("active"))}),s.append(l,p),n.appendChild(s),l.addEventListener("click",n=>{const t=n.target.closest(`.${e}-tab-button`);if(!t)return;const o=t.dataset.category;l.querySelectorAll(`.${e}-tab-button`).forEach(e=>{e.classList.toggle("active",e.dataset.category===o)}),p.querySelectorAll(`.${e}-tab-pane`).forEach(e=>{e.classList.toggle("active",e.dataset.category===o)})})}(d)}let c="";setInterval(()=>{location.hash!==c&&(c=location.hash,i())},300),i()}()},933:(e,n,t)=>{var o={"./index.js":235,"./move_portal_notify_to_right.js":994,"./portal_calendar.js":90,"./portal_links.js":131,"./portal_notifications.js":638};function a(e){var n=r(e);return t(n)}function r(e){if(!t.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=933},994:()=>{}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t(235)})();