(()=>{var n={90:()=>{(()=>{"use strict";kintone.events.on("portal.show",()=>{const n=document.createElement("iframe");n.src="https://atomfirm.cybozu.com/k/23/?view=13312044",n.width="100%",n.height="800",n.style.border="0",n.style.overflow="hidden",n.style.padding="0 0.5rem",n.style.boxSizing="border-box";const e=document.createElement("div");e.classList.add("portal-calendar-widget"),e.appendChild(n);const t=document.querySelector(".ocean-portal-body-right");t?(t.appendChild(e),console.log("✅ カレンダーを右カラムの末尾に追加しました")):console.warn("⚠️ .ocean-portal-body-right が見つかりませんでした")})})()},131:()=>{!function(){"use strict";const n={APP_ID:59,AREA_ID:"portal-links-area",TARGET_PORTAL_HASH_PART:"/portal/4",FIELD_CATEGORY:"category",FIELD_URL:"url",FIELD_ICON:"icon",FIELD_TITLE:"title",FIELD_SORT_ORDER:"sort_order",CATEGORY_ORDER:["マニュアル","業務関連シート","便利ツール","その他"],CATEGORY_COLOR:{マニュアル:{icon:"#4c7eff"},業務関連シート:{icon:"#3db652"},便利ツール:{icon:"#e8b65d"},その他:{icon:"#777"}},DEFAULT_ICON:"description"},e=`${n.AREA_ID}-styles`;function t(){if(n.TARGET_PORTAL_HASH_PART&&!location.hash.includes(n.TARGET_PORTAL_HASH_PART)){const e=document.getElementById(n.AREA_ID);return void(e&&e.remove())}const a=document.getElementById("cns-root");if(!a)return setTimeout(t,300);let r=document.getElementById(n.AREA_ID);r||(r=document.createElement("div"),r.id=n.AREA_ID,a.prepend(r)),async function(t){if(0===n.APP_ID||!n.APP_ID)return void(t.innerHTML='<div style="color: red; font-weight: bold; padding: 1rem;">【設定エラー】リンク集アプリのIDが設定されていません。</div>');if(function(){if(document.getElementById(e))return;const t=`\n      #${n.AREA_ID} { margin-bottom: 40px; background-color: #e1e1e1;}\n      .${n.AREA_ID}-container { padding: 10px; }\n      .${n.AREA_ID}-category-title {\n        font-size: 16px;\n        font-weight: 600;\n        padding: 1rem;\n        margin-top: 1rem;\n        color: #686868;\n      }\n      .${n.AREA_ID}-category-wrap {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16px;\n        padding: 0 1rem;\n        margin-bottom: 1rem;\n      }\n      .${n.AREA_ID}-item-wrapper {\n        width: 180px;\n        text-decoration: none;\n      }\n      .${n.AREA_ID}-card {\n        width: 100%;\n        height: 140px;\n        border-radius: 22px;\n        background: #fff;\n        border: 1px solid rgba(0,0,0,0.08);\n        box-shadow: 0 4px 12px rgba(0,0,0,0.05);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        padding: 1rem;\n        transition: all 0.2s ease-in-out;\n        box-sizing: border-box;\n      }\n      .${n.AREA_ID}-item-wrapper:hover .${n.AREA_ID}-card {\n        transform: translateY(-4px);\n        box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n      }\n      .${n.AREA_ID}-icon {\n        font-size: 42px!important;\n        margin-bottom: 8px;\n      }\n      .${n.AREA_ID}-text {\n        height: calc(13px * 1.5 * 2);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n      }\n      .${n.AREA_ID}-text-inner {\n        font-size: 14.5px;\n        font-weight: 500;\n        color: #444;\n        text-align: center;\n        line-height: 1.4;\n        overflow-wrap: break-word;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)}(),!document.getElementById("mat-icon-font")){const n=document.createElement("link");n.id="mat-icon-font",n.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined",n.rel="stylesheet",document.head.appendChild(n)}let a;try{a=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:n.APP_ID,query:`order by ${n.FIELD_SORT_ORDER} asc`})}catch(n){return console.error(n),void(t.innerHTML='<div style="color: red; padding: 1rem;">リンクの読み込みに失敗しました。</div>')}const r=a.records,i={};r.forEach(e=>{const t=e[n.FIELD_CATEGORY].value;i[t]||(i[t]=[]),i[t].push(e)}),t.innerHTML="";const c=document.createElement("div");c.className=`${n.AREA_ID}-container`;const d=new Set;n.CATEGORY_ORDER.forEach(n=>{i[n]&&(c.appendChild(o(n,i[n])),d.add(n))}),Object.keys(i).filter(n=>!d.has(n)).sort().forEach(n=>c.appendChild(o(n,i[n]))),t.appendChild(c)}(r)}function o(e,t){const o=document.createElement("div"),a=document.createElement("div");a.className=`${n.AREA_ID}-category-title`,a.textContent=e,o.appendChild(a);const r=document.createElement("div");return r.className=`${n.AREA_ID}-category-wrap`,t.forEach(t=>r.appendChild(function(e,t){const o=n.CATEGORY_COLOR[t]||{icon:"#333"},a=document.createElement("a");a.className=`${n.AREA_ID}-item-wrapper`,a.href=e[n.FIELD_URL].value,a.target="_blank";const r=document.createElement("div");r.className=`${n.AREA_ID}-card`;const i=document.createElement("span");i.className=`material-symbols-outlined ${n.AREA_ID}-icon`,i.style.color=o.icon,i.textContent=e[n.FIELD_ICON]&&e[n.FIELD_ICON].value||n.DEFAULT_ICON;const c=document.createElement("div");c.className=`${n.AREA_ID}-text`;const d=document.createElement("span");return d.className=`${n.AREA_ID}-text-inner`,d.textContent=e[n.FIELD_TITLE].value,c.appendChild(d),r.append(i,c),a.append(r),a}(t,e))),o.appendChild(r),o}let a="";setInterval(()=>{location.hash!==a&&(a=location.hash,t())},300),t()}()},235:(n,e,t)=>{var o;(o=t(933)).keys().forEach(o)},638:()=>{!function(){"use strict";const n={APP_ID:61,HIDE_FLAG_FIELD:"is_hidden",HIDE_FLAG_VALUE:"非公開にする",QUERY_ORDER:"order by posting_date desc",AREA_ID:"portal-notifications-area",TARGET_PORTAL_HASH_PART:"/portal/5",FIELD_CATEGORY:"category",FIELD_TITLE:"title",FIELD_CONTENT:"content",FIELD_POSTING_DATE:"posting_date",BLANK_CATEGORY_NAME:"未分類",CATEGORY_ORDER:["事務員通知","弁護士通知","全体通知"]},e=n.AREA_ID+"-styles";function t(){if(n.TARGET_PORTAL_HASH_PART&&!location.hash.includes(n.TARGET_PORTAL_HASH_PART)){const e=document.getElementById(n.AREA_ID);return void(e&&e.remove())}const r=document.getElementById("cns-root");if(!r)return setTimeout(t,300);let i=document.getElementById(n.AREA_ID);i||(i=document.createElement("div"),i.id=n.AREA_ID,r.prepend(i)),async function(t){let r;!function(){if(document.getElementById(e))return;const t=`\n      #${n.AREA_ID} {\n        box-sizing: border-box;\n      }\n\n      /* 2カラムレイアウト */\n      .portal-layout {\n        display: flex;\n      }\n      .portal-left {\n        width: 25%;\n        padding:1rem;\n        background-color: #eee;\n      }\n      .portal-right {\n        width: 75%;\n        background: #fff;\n        padding: 3rem;\n        min-height: 500px;\n      }\n\n      /* Tabs */\n      .tab-nav {\n        display: flex;\n        gap: 10px;\n        justify-content: center;\n        margin-bottom: 20px;\n      }\n      .tab-btn {\n        padding: 4px 16px;\n        background: transparent;\n        border-radius: 50px;\n        border: none;\n        cursor: pointer;\n        color: #555;\n        font-weight: 500;\n        transition: .2s;\n        font-size: 15px;\n        width: 31%;\n      }\n      .tab-btn.active {\n        background: #4b4b4b;\n        color: #fff;\n        border-color: #4b4b4b;\n      }\n\n      /* 一覧カード */\n      .notice-item {\n        background: #fff;\n        border-radius: 12px;\n        border: 1px solid rgba(0,0,0,0.1);\n        padding: 14px;\n        margin-bottom: 12px;\n        cursor: pointer;\n        transition: .15s;\n      }\n      .notice-item:hover {\n        background: #f0f0f0;\n      }\n\n      .notice-date {\n        font-size: 11px;\n        color: #777;\n      }\n      .notice-title {\n        font-size: 16px;\n        font-weight: bold;\n        margin: 6px 0;\n      }\n      .notice-excerpt {\n        font-size: 13px;\n        color: #555;\n        line-height: 1.45;\n      }\n      /* 詳細側 */\n      .detail-title {\n        font-size: 24px;\n        font-weight: bold;\n        margin-bottom: 10px;\n      }\n      .detail-date {\n        font-size: 14px;\n        color: #999;\n        margin-bottom: 20px;\n      }\n      .detail-body {\n        font-size: 15px;\n        line-height: 1.65;\n        color: #444;\n      }\n      .detail-body img {\n        max-width: 100%;\n        height: auto;\n      }\n    `,o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)}();try{r=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:n.APP_ID,query:`${n.HIDE_FLAG_FIELD} not in ("${n.HIDE_FLAG_VALUE}") ${n.QUERY_ORDER}`})}catch(n){return console.error(n),void(t.innerHTML="<div style='color:red'>お知らせ読み込み失敗</div>")}const i=r.records,c={};i.forEach(e=>{const t=e[n.FIELD_CATEGORY]&&e[n.FIELD_CATEGORY].value||n.BLANK_CATEGORY_NAME;c[t]||(c[t]=[]),c[t].push(e)}),t.innerHTML="";const d=document.createElement("div");d.className="portal-layout";const l=document.createElement("div");l.className="portal-left";const s=document.createElement("div");s.className="tab-nav";const p=document.createElement("div");let E=null;n.CATEGORY_ORDER.forEach(e=>{if(!c[e])return;E||(E=e);const t=document.createElement("button");t.className="tab-btn",t.textContent=e,t.dataset.cat=e,s.appendChild(t);const a=document.createElement("div");a.className="tab-pane",a.dataset.cat=e,c[e].forEach(e=>{a.appendChild(function(e){const t=document.createElement("div");t.className="notice-item";const a=new Date(e[n.FIELD_POSTING_DATE].value),r=`${a.getFullYear()}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getDate().toString().padStart(2,"0")}`,i=(e[n.FIELD_CONTENT].value||"").replace(/<[^>]+>/g,""),c=i.length>60?i.slice(0,60)+"…":i;return t.innerHTML=`\n      <div class="notice-date">${r}</div>\n      <div class="notice-title">${e[n.FIELD_TITLE].value}</div>\n      <div class="notice-excerpt">${c}</div>\n    `,t.addEventListener("click",()=>o(e)),t}(e))}),p.appendChild(a)}),l.appendChild(s),l.appendChild(p);const m=document.createElement("div");m.className="portal-right",m.id="notice-detail",d.append(l,m),t.appendChild(d),a(E);const u=i[0];u&&o(u),s.addEventListener("click",n=>{const e=n.target.closest(".tab-btn");e&&a(e.dataset.cat)})}(i)}function o(e){const t=document.getElementById("notice-detail");if(!t)return;const o=new Date(e[n.FIELD_POSTING_DATE].value),a=`${o.getFullYear()}/${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getDate().toString().padStart(2,"0")}`;t.innerHTML=`\n      <div class="detail-title">${e[n.FIELD_TITLE].value}</div>\n      <div class="detail-date">${a}</div>\n      <div class="detail-body">${e[n.FIELD_CONTENT].value}</div>\n    `}function a(n){document.querySelectorAll(".tab-btn").forEach(e=>e.classList.toggle("active",e.dataset.cat===n)),document.querySelectorAll(".tab-pane").forEach(e=>e.style.display=e.dataset.cat===n?"block":"none")}let r="";setInterval(()=>{location.hash!==r&&(r=location.hash,t())},300),t()}()},933:(n,e,t)=>{var o={"./index.js":235,"./move_portal_notify_to_right.js":994,"./portal_calendar.js":90,"./portal_links.js":131,"./portal_notifications.js":638};function a(n){var e=r(n);return t(e)}function r(n){if(!t.o(o,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return o[n]}a.keys=function(){return Object.keys(o)},a.resolve=r,n.exports=a,a.id=933},994:()=>{}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={exports:{}};return n[o](r,r.exports,t),r.exports}t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t(235)})();