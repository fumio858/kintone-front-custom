(()=>{var e={131:()=>{!function(){"use strict";const e={APP_ID:59,AREA_ID:"portal-links-area",TARGET_PORTAL_HASH_PART:"/portal/4",FIELD_CATEGORY:"category",FIELD_URL:"url",FIELD_ICON:"icon",FIELD_TITLE:"title",FIELD_SORT_ORDER:"sort_order",CATEGORY_ORDER:["„Éû„Éã„É•„Ç¢„É´","Ê•≠ÂãôÈñ¢ÈÄ£„Ç∑„Éº„Éà","‰æøÂà©„ÉÑ„Éº„É´","„Åù„ÅÆ‰ªñ"],CATEGORY_COLOR:{„Éû„Éã„É•„Ç¢„É´:{icon:"#4c7eff"},Ê•≠ÂãôÈñ¢ÈÄ£„Ç∑„Éº„Éà:{icon:"#3db652"},‰æøÂà©„ÉÑ„Éº„É´:{icon:"#e8b65d"},„Åù„ÅÆ‰ªñ:{icon:"#777"}},DEFAULT_ICON:"description"},n=`${e.AREA_ID}-styles`;function t(){if(e.TARGET_PORTAL_HASH_PART&&!location.hash.includes(e.TARGET_PORTAL_HASH_PART)){const n=document.getElementById(e.AREA_ID);return void(n&&n.remove())}const a=document.getElementById("cns-root");if(!a)return setTimeout(t,300);let i=document.getElementById(e.AREA_ID);i||(i=document.createElement("div"),i.id=e.AREA_ID,a.prepend(i)),async function(t){if(0===e.APP_ID||!e.APP_ID)return void(t.innerHTML='<div style="color: red; font-weight: bold; padding: 1rem;">„ÄêË®≠ÂÆö„Ç®„É©„Éº„Äë„É™„É≥„ÇØÈõÜ„Ç¢„Éó„É™„ÅÆID„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ</div>');if(function(){if(document.getElementById(n))return;const t=`\n      #${e.AREA_ID} { margin-bottom: 40px; background-color: #e1e1e1;}\n      .${e.AREA_ID}-container { padding: 10px; }\n      .${e.AREA_ID}-category-title {\n        font-size: 16px;\n        font-weight: 600;\n        padding: 1rem;\n        margin-top: 1rem;\n        color: #686868;\n      }\n      .${e.AREA_ID}-category-wrap {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 16px;\n        padding: 0 1rem;\n        margin-bottom: 1rem;\n      }\n      .${e.AREA_ID}-item-wrapper {\n        width: 180px;\n        text-decoration: none;\n      }\n      .${e.AREA_ID}-card {\n        width: 100%;\n        height: 140px;\n        border-radius: 22px;\n        background: #fff;\n        border: 1px solid rgba(0,0,0,0.08);\n        box-shadow: 0 4px 12px rgba(0,0,0,0.05);\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        align-items: center;\n        padding: 1rem;\n        transition: all 0.2s ease-in-out;\n        box-sizing: border-box;\n      }\n      .${e.AREA_ID}-item-wrapper:hover .${e.AREA_ID}-card {\n        transform: translateY(-4px);\n        box-shadow: 0 8px 20px rgba(0,0,0,0.15);\n      }\n      .${e.AREA_ID}-icon {\n        font-size: 42px!important;\n        margin-bottom: 8px;\n      }\n      .${e.AREA_ID}-text {\n        height: calc(14.5px * 1.4 * 2);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n      }\n      .${e.AREA_ID}-text-inner {\n        font-size: 14.5px;\n        font-weight: 500;\n        color: #444;\n        text-align: center;\n        line-height: 1.4;\n        overflow-wrap: break-word;\n        white-space: pre-line;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,o=document.createElement("style");o.id=n,o.textContent=t,document.head.appendChild(o)}(),!document.getElementById("mat-icon-font")){const e=document.createElement("link");e.id="mat-icon-font",e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined",e.rel="stylesheet",document.head.appendChild(e)}let a;try{a=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:e.APP_ID,query:`order by ${e.FIELD_SORT_ORDER} asc`})}catch(e){return console.error(e),void(t.innerHTML='<div style="color: red; padding: 1rem;">„É™„É≥„ÇØ„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ</div>')}const i=a.records,r={};i.forEach(n=>{const t=n[e.FIELD_CATEGORY].value;r[t]||(r[t]=[]),r[t].push(n)}),t.innerHTML="";const c=document.createElement("div");c.className=`${e.AREA_ID}-container`;const d=new Set;e.CATEGORY_ORDER.forEach(e=>{r[e]&&(c.appendChild(o(e,r[e])),d.add(e))}),Object.keys(r).filter(e=>!d.has(e)).sort().forEach(e=>c.appendChild(o(e,r[e]))),t.appendChild(c)}(i)}function o(n,t){const o=document.createElement("div"),a=document.createElement("div");a.className=`${e.AREA_ID}-category-title`,a.textContent=n,o.appendChild(a);const i=document.createElement("div");return i.className=`${e.AREA_ID}-category-wrap`,t.forEach(t=>i.appendChild(function(n,t){const o=e.CATEGORY_COLOR[t]||{icon:"#333"},a=document.createElement("a");a.className=`${e.AREA_ID}-item-wrapper`,a.href=n[e.FIELD_URL].value,a.target="_blank";const i=document.createElement("div");i.className=`${e.AREA_ID}-card`;const r=document.createElement("span");r.className=`material-symbols-outlined ${e.AREA_ID}-icon`,r.style.color=o.icon,r.textContent=n[e.FIELD_ICON]&&n[e.FIELD_ICON].value||e.DEFAULT_ICON;const c=document.createElement("div");c.className=`${e.AREA_ID}-text`;const d=document.createElement("span");return d.className=`${e.AREA_ID}-text-inner`,d.textContent=n[e.FIELD_TITLE].value,c.appendChild(d),i.append(r,c),a.append(i),a}(t,n))),o.appendChild(i),o}let a="";setInterval(()=>{location.hash!==a&&(a=location.hash,t())},300),t()}()},235:(e,n,t)=>{var o;(o=t(933)).keys().forEach(o)},577:()=>{"use strict";kintone.events.on("portal.show",()=>{const e=document.createElement("iframe");e.src="https://atomfirm.cybozu.com/k/23/?view=13312044",e.width="100%",e.height="800",e.style.border="0",e.style.overflow="hidden",e.style.padding="0 0.5rem",e.style.boxSizing="border-box";const n=document.createElement("div");n.classList.add("portal-calendar-widget"),n.appendChild(e);const t=document.querySelector(".ocean-portal-body-right");t?(t.appendChild(n),console.log("‚úÖ „Ç´„É¨„É≥„ÉÄ„Éº„ÇíÂè≥„Ç´„É©„É†„ÅÆÊú´Â∞æ„Å´ËøΩÂä†„Åó„Åæ„Åó„Åü")):console.warn("‚ö†Ô∏è .ocean-portal-body-right „ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü")})},638:()=>{!function(){"use strict";const e={APP_ID:61,HIDE_FLAG_FIELD:"is_hidden",HIDE_FLAG_VALUE:"ÈùûÂÖ¨Èñã„Å´„Åô„Çã",QUERY_ORDER:"order by posting_date desc",AREA_ID:"portal-notifications-area",TARGET_PORTAL_HASH_PART:"/portal/5",FIELD_CATEGORY:"category",FIELD_TITLE:"title",FIELD_CONTENT:"content",FIELD_POSTING_DATE:"posting_date",BLANK_CATEGORY_NAME:"Êú™ÂàÜÈ°û",CATEGORY_ORDER:["‰∫ãÂãôÂì°","ÂºÅË≠∑Â£´","ÂÖ®‰Ωì"],FIELD_ATTACHMENTS:"attachments"},n=e.AREA_ID+"-styles";function t(){if(e.TARGET_PORTAL_HASH_PART&&!location.hash.includes(e.TARGET_PORTAL_HASH_PART)){const n=document.getElementById(e.AREA_ID);return void(n&&n.remove())}const r=document.getElementById("cns-root");if(!r)return setTimeout(t,300);let c=document.getElementById(e.AREA_ID);c||(c=document.createElement("div"),c.id=e.AREA_ID,r.prepend(c)),async function(t){let r;!function(){if(document.getElementById(n))return;const t=`\n      #${e.AREA_ID} { box-sizing: border-box; }\n      .portal-layout {\n        display: flex;\n        background-color: #eee;\n        height: calc(100vh - 140px);\n        overflow: hidden;\n      }\n      .portal-left {\n        width: 380px;\n        padding: 1rem 0.8rem;\n        background-color: #eee;\n        overflow-y: auto;\n        border-right: 1px solid #ddd;\n      }\n      .search-box {\n        width: 100%;\n        margin: 8px 0 15px 0;\n      }\n      .search-box input {\n        width: 100%;\n        padding: 10px 14px;\n        border-radius: 50px;\n        border: 1px solid #ccc;\n        font-size: 14px;\n        box-sizing: border-box;\n      }\n      .portal-right {\n        flex: 1;\n        background: #fff;\n        padding: 3rem;\n        margin: 1rem;\n        min-height: 500px;\n        overflow-y: auto;\n        border-radius: 22px;\n        box-shadow: 0 4px 18px rgba(0,0,0,0.06);\n      }\n      .tab-nav {\n        display: flex;\n        gap: 8px;\n        justify-content: center;\n        margin-bottom: 14px;\n      }\n      .tab-btn {\n        padding: 10px 18px;\n        background: transparent;\n        border-radius: 8px;\n        border: none;\n        cursor: pointer;\n        color: #777;\n        font-weight: 600;\n        transition: .2s;\n        font-size: 13px;\n        line-height: 1;\n      }\n      .tab-btn.active {\n        background: #4b4b4b;\n        color: #FFF;\n      }\n      .notice-item {\n        padding: .6rem .8rem;\n        cursor: pointer;\n        border-radius: 8px;\n        transition: .15s;\n        margin-bottom: 2px;\n      }\n      .notice-item:hover {\n        background: #fefefe9e;\n      }\n      .notice-item.active {\n        background: #e0e0e0;\n      }\n      .notice-topline {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        line-height: 1;\n      }\n      .notice-date {\n        font-size: 11px;\n        color: #777;\n      }\n      .badge-new {\n        background: #d9534f;\n        color: #fff;\n        font-size: 9px;\n        padding: 2px 6px;\n        border-radius: 10px;\n        font-weight: bold;\n        line-height: 1;\n      }\n      .notice-title {\n        font-size: 15px;\n        font-weight: 600;\n        margin: 4px 0 2px;\n        line-height: 1.35;\n      }\n      .detail-title {\n        font-size: 26px;\n        font-weight: 700;\n        margin-bottom: 0.5rem;\n      }\n      .detail-date {\n        font-size: 14px;\n        color: #999;\n        margin-bottom: 1.2rem;\n      }\n      .detail-title::after {\n        content: "";\n        display: block;\n        width: 60px;\n        height: 2px;\n        background: #ccc;\n        margin-top: 12px;\n      }\n      .detail-body {\n        font-size: 16px;\n        line-height: 1.7;\n        color: #444;\n      }\n      .detail-body img {\n        max-width: 100%;\n        height: auto;\n      }\n      .detail-attachments {\n        margin-top: 2rem;\n        padding-top: 1.2rem;\n        border-top: 1px solid #ddd;\n      }\n      .attachments-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin-bottom: 1rem;\n      }\n      .attachments-list {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n      }\n      .attachments-list li {\n        margin: 6px 0;\n      }\n      .attachments-list a {\n        color: #3366cc;\n        text-decoration: underline;\n        cursor: pointer;\n      }\n      .attachment-preview {\n        margin: 10px 0 20px;\n      }\n      .attachment-preview.pdf iframe {\n        width: 100%;\n        height: 600px;\n        border: 1px solid #ddd;\n        border-radius: 8px;\n      }\n      .attachment-preview.image img {\n        max-width: 100%;\n        border: 1px solid #ddd;\n        border-radius: 8px;\n      }\n    `,o=document.createElement("style");o.id=n,o.textContent=t,document.head.appendChild(o)}();try{r=await kintone.api(kintone.api.url("/k/v1/records",!0),"GET",{app:e.APP_ID,query:`${e.HIDE_FLAG_FIELD} not in ("${e.HIDE_FLAG_VALUE}") ${e.QUERY_ORDER}`})}catch(e){return console.error(e),void(t.innerHTML="<div style='color:red'>„ÅäÁü•„Çâ„ÅõË™≠„ÅøËæº„ÅøÂ§±Êïó</div>")}const c=r.records,d=new Date,l={};c.forEach(n=>{const t=n[e.FIELD_CATEGORY]&&n[e.FIELD_CATEGORY].value||e.BLANK_CATEGORY_NAME;l[t]||(l[t]=[]),l[t].push(n)}),t.innerHTML="";const s=document.createElement("div");s.className="portal-layout";const p=document.createElement("div");p.className="portal-left";const m=document.createElement("div");m.className="tab-nav";const u=document.createElement("div");u.className="search-box",u.innerHTML='\n      <input id="notice-search" type="text" placeholder="Ê§úÁ¥¢Ôºà„Åì„ÅÆ„Çø„ÉñÂÜÖ„ÅÆ„ÅøÔºâ">\n    ';const E=document.createElement("div");let h=null;e.CATEGORY_ORDER.forEach(n=>{if(!l[n])return;h||(h=n);const t=document.createElement("button");t.className="tab-btn",t.textContent=n+"ÈÄöÁü•",t.dataset.cat=n,m.appendChild(t);const a=document.createElement("div");a.className="tab-pane",a.dataset.cat=n,l[n].forEach(n=>{a.appendChild(function(n,t){const a=document.createElement("div");a.className="notice-item",a.dataset.recordId=n.$id.value;const i=new Date(n[e.FIELD_POSTING_DATE].value),r=(t-i)/864e5<=7,c=`${i.getFullYear()}/${(i.getMonth()+1).toString().padStart(2,"0")}/${i.getDate().toString().padStart(2,"0")}`,d=(n[e.FIELD_CONTENT].value||"").replace(/<[^>]+>/g,"").slice(0,80);return a.dataset.search=`${n[e.FIELD_TITLE].value} ${c} ${d}`.toLowerCase(),a.innerHTML=`\n      <div class="notice-topline">\n        <div class="notice-date">${c}</div>\n        ${r?'<span class="badge-new">NEW</span>':""}\n      </div>\n      <div class="notice-title">${n[e.FIELD_TITLE].value}</div>\n    `,a.addEventListener("click",()=>{document.querySelectorAll(".notice-item").forEach(e=>e.classList.remove("active")),a.classList.add("active"),o(n)}),a}(n,d))}),E.appendChild(a)}),p.appendChild(m),p.appendChild(u),p.appendChild(E);const f=document.createElement("div");f.className="portal-right",f.id="notice-detail",s.append(p,f),t.appendChild(s),a(h);const g=document.querySelector(`.tab-pane[data-cat="${h}"]`);if(g){const e=g.querySelector(".notice-item");if(e){e.classList.add("active");const n=e.dataset.recordId,t=c.find(e=>e.$id.value===n);t&&o(t)}}m.addEventListener("click",e=>{const n=e.target.closest(".tab-btn");n&&(a(n.dataset.cat),document.getElementById("notice-search").value="",i(""))}),document.getElementById("notice-search").addEventListener("input",e=>{i(e.target.value.trim().toLowerCase())})}(c)}function o(n){const t=document.getElementById("notice-detail");if(!t)return;const o=new Date(n[e.FIELD_POSTING_DATE].value),a=`${o.getFullYear()}/${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getDate().toString().padStart(2,"0")}`,i=n[e.FIELD_ATTACHMENTS]?.value||[];let r="";i.length>0&&(r=`\n        <div class="detail-attachments">\n          <h3 class="attachments-title">üìé Ê∑ª‰ªò„Éï„Ç°„Ç§„É´</h3>\n          <ul class="attachments-list">\n            ${i.map(e=>{const n=e.name.toLowerCase(),t=n.endsWith(".pdf"),o=n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".png")||n.endsWith(".gif");let a="other";return t?a="pdf":o&&(a="image"),`\n                  <li>\n                    <a href="#" class="attachment-link"\n                      data-file-key="${e.fileKey}"\n                      data-file-type="${a}">\n                      ${e.name}\n                    </a>\n                    <div class="attachment-preview ${a}"\n                      data-file-key="${e.fileKey}"></div>\n                  </li>`}).join("")}\n          </ul>\n        </div>\n      `),t.innerHTML=`\n      <div class="detail-title">${n[e.FIELD_TITLE].value}</div>\n      <div class="detail-date">${a}</div>\n      <div class="detail-body">${n[e.FIELD_CONTENT].value}</div>\n      ${r}\n    `,t.querySelectorAll(".attachment-link").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const o=e.dataset.fileKey;!async function(e,n,t){if(t){t.innerHTML="Ë™≠„ÅøËæº„Åø‰∏≠‚Ä¶";try{const o=kintone.api.url("/k/v1/file.json",!0)+`?fileKey=${encodeURIComponent(e)}`,a=await fetch(o,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("HTTP Error "+a.status);const i=await a.blob(),r=URL.createObjectURL(i);t.innerHTML="pdf"===n?`\n          <iframe src="${r}" frameborder="0"></iframe>\n        `:"image"===n?`<img src="${r}" />`:`\n          <a href="${r}" download>„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</a>\n        `}catch(e){console.error(e),t.innerHTML='<span style="color:red;">Ë™≠„ÅøËæº„ÅøÂ§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ</span>'}}}(o,e.dataset.fileType,t.querySelector(`.attachment-preview[data-file-key="${o}"]`))})})}function a(e){document.querySelectorAll(".tab-btn").forEach(n=>n.classList.toggle("active",n.dataset.cat===e)),document.querySelectorAll(".tab-pane").forEach(n=>{n.style.display=n.dataset.cat===e?"block":"none"})}function i(e){const n=document.querySelector('.tab-pane[style*="block"]');n&&n.querySelectorAll(".notice-item").forEach(n=>{const t=n.dataset.search||"";n.style.display=t.includes(e)?"block":"none"})}let r="";setInterval(()=>{location.hash!==r&&(r=location.hash,t())},300),t()}()},933:(e,n,t)=>{var o={"./index.js":235,"./portal_calendar.js":577,"./portal_links.js":131,"./portal_notifications.js":638};function a(e){var n=i(e);return t(n)}function i(e){if(!t.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id=933}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t(235)})();